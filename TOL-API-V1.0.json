{
	"info": {
		"_postman_id": "08254ecf-bba6-4e1d-801e-deec8e8a8681",
		"name": "TOL-API-V1.0",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "5648791"
	},
	"item": [
		{
			"name": "Client",
			"item": [
				{
					"name": "Auth",
					"item": [
						{
							"name": "login",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () { pm.response.to.have.status(200); }); var jsonData = pm.response.json(); if (jsonData.data && jsonData.data.token) { pm.collectionVariables.set(\"CLIENT_TOKEN\", jsonData.data.token); console.log(\"Client token set: \" + jsonData.data.token); }"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{ \"email\": \"client@example.com\", \"password\": \"password123\" }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{BASE_URL}}/auth/login",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"auth",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"packages": {},
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{BASE_URL}}/client/profile",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"client",
										"profile"
									]
								}
							},
							"response": []
						},
						{
							"name": "auth/logout",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Skrip ini akan berjalan SETELAH respons dari server diterima.\r",
											"\r",
											"// pm.test() digunakan untuk membuat sebuah \"tes\" di Postman.\r",
											"// Ini cara yang baik untuk mengorganisir kode dan melihat hasilnya di tab Test Results.\r",
											"pm.test(\"Logout was successful and environment variables are cleared\", function () {\r",
											"\r",
											"    // Pertama, cek apakah respons dari server adalah 200 OK (sukses).\r",
											"    // Ini memastikan kita tidak mereset token jika logout gagal.\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    // Jika respons sukses, reset variabel-variabel yang relevan.\r",
											"    // Gunakan pm.environment.unset() untuk menghapus variabel sepenuhnya.\r",
											"    \r",
											"  \r",
											"    // Alternatif, jika Anda hanya ingin mengosongkannya (bukan menghapus):\r",
											"    //pm.collectionVariables.set(\"ADMIN_TOKEN\", \"\");\r",
											"    pm.collectionVariables.set(\"CLIENT_TOKEN\", \"\");\r",
											"\r",
											"    console.log(\"Variabel token ( CLIENT_TOKEN) telah direset/dihapus dari environment Postman.\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{BASE_URL}}/auth/logout",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"auth",
										"logout"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Transaksi",
					"item": [
						{
							"name": "transaksi",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{ \r\n    \"data_lensa\":\r\n        {   \r\n                                // No PO di generate oleh Independent, Input Manual/Otomatis, Wajib Di isi\r\n            \"no_po\"             : \"INV/2025-06-1001\", // Contoh data No PO di generate oleh Independent\r\n            \"hanya_jasa\"        : \"1\", // check box 1 atau 0, pilih 1 jika hanya jasa dan 0 untuk lensa dan jasa\r\n            \"kd_brand\"          : \"CZ\", // Dari data master Kode Brand\r\n            \"jenis_lensa\"       : \"PG\", // Dari data master Group Lensa\r\n\r\n            \"nama_customer\"     : \"EYE SOUL\", // Input Manual | Text, Optional, default 0\r\n\r\n            \"r_lensa\"           : \"50001\", // 50001 Dari data master Lensa pilihan untuk lensa yang Kanan (r)\r\n            \"r_spheris\"         : \"-0.50\", // Dari data master spheris\r\n            \"r_cylinder\"        : \"-2.00\", // Dari data master cylinder, query parameter untuk lensa r dari \r\n                                          // (kode_lensa & kode_spheris)\r\n            \"r_axis\"            : \"5\",  // Dari data master Axis,\r\n            \"r_additional\"      : \"+1.50\", // Dari data master Additional,\r\n            \"r_prisma\"          : 0,  // Dari data master prisma, 0-15 , default 0 , Optional\r\n            \"r_base\"            : 0,  // Dari data master base, 0-399 , default 0 , Optional\r\n            \"r_bcurve\"          : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_pd_far\"          : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_pd_near\"         : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_prisma2\"         : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_base2\"           : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_pdf\"             : 3,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_pdn\"             : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_base_curve\"      : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"r_edge_thickness\"  : 0,  // R ET, Input Manual | Numeric, Optional, default 0\r\n            \"r_center_thickness\": 0,  // R ED, Input Manual | Numeric, Optional, default 0\r\n\r\n\r\n            \"l_lensa\"           : \"91412\", // Dari data master Lensa pilihan untuk lensa yang Kiri(l)\r\n            \"l_spheris\"         : \"-0.50\", // Dari data master spheris\r\n            \"l_cylinder\"        : \"-2.00\", // Dari data master cylinder, query parameter untuk lensa l dari \r\n                                          // (kode_lensa & kode_spheris)\r\n            \"l_axis\"            : \"5\",  // Dari data master Axis,\r\n            \"l_additional\"      : \"+1.50\", // Dari data master Additional,\r\n            \"l_prisma\"          : 0,  // Dari data master prisma, 0-15 , default 0 , Optional\r\n            \"l_base\"            : 0,  // Dari data master base, 0-399 , default 0 , Optional\r\n            \"l_bcurve\"          : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_pd_far\"          : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_pd_near\"         : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_prisma2\"         : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_base2\"           : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_pdf\"             : 1,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_pdn\"             : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_base_curve\"      : 0,  // Input Manual | Numeric, Optional, default 0\r\n            \"l_edge_thickness\"  : 0,  // L ET, Input Manual | Numeric, Optional, default 0\r\n            \"l_center_thickness\": 0,  // L ED, Input Manual | Numeric, Optional, default 0\r\n\r\n            \"effectif_diameter\"     : \"4.3\", // Dari ED, Input Manual ,Numeric, \r\n            \"lens_size\"             : \"5.1\", // Dari A, Input Manual ,Numeric, \r\n            \"bridge_size\"           : \"4.2\", // Dari DBL, Input Manual ,Numeric, \r\n            \"seg_height\"            : \"5\", // Dari SH/PV, Input Manual ,Numeric, \r\n            \"vertical\"              : \"3\", // Dari B, Input Manual ,Numeric, \r\n\r\n            \"max_id\"                : \"1001\", //Numeric, Default Null , Optional, Input Manual, \r\n                                        // cek kode lensa ( 68539, 68540, 68541, 68542 ) , tidak boleh lebih dari value 999, selain itu, harus di isi ribuan dimulai 1001\r\n\r\n            \"wa\"                    : \"0\", //Numeric, Default 5 (NOL) , Optional, Input Manual\r\n            \"pt\"                    : \"0\", //Numeric, Default 9 (NOL) , Optional, Input Manual\r\n            \"bvd\"                   : \"0\", //Numeric, Default 12 (NOL) , Optional, Input Manual\r\n            \"ffv\"                   : \"0\", //Numeric, Default Null  , Optional, Input Manual\r\n            \"v_code\"                : \"0\", //Numeric, Default 0 (NOL) , Optional, Input Manual\r\n            \"rd\"                    : \"0\", //Numeric, Default 0 (NOL) , Optional, Input Manual\r\n            \"pe\"                    : \"0\", //Varchar, Default Null , Optional, Input Manual, Length 5\r\n\r\n            \"frame_status\"          : \"E\", //Dari data master frame status,  Boleh Kosong, Select\r\n                                         // ( C = COMPLETE , E = ENCLOSED , T = TO COME )\r\n            \"jenis_frame\"           : \"BOR\", // Dari data master frame jenis, Boleh Kosong, Select\r\n                                            // ( BOR, BOR LEVEL, FULL METAL, FULL PLASTIC, NYLOR, NYLOR METAL )\r\n            \"model\"                 : \"2\", // Dari data master model 1-11, ada contoh gambar base64\r\n            \r\n            \"note\"                  : \"ini Data Note\", // Isi Sendiri| Input Manual, Validasi Karakter\r\n            \"spesial_instruksi\"     : \"ini spesial instruksi\", // Isi Sendiri| Input Manual, Validasi Karakter\r\n            \"keterangan\"            : \"ini Keterangan\"  // Isi Sendiri| Input Manual, Validasi Karakter\r\n\r\n        }\r\n        \r\n    ,\r\n    \"data_jasa\": [\r\n        // Data Jasa Array, Bisa pilih dari satu\r\n        { \r\n            \"jasa_id\"   : \"0012\" // Dari data master Jasa\r\n        },\r\n        { \r\n            \"jasa_id\"   : \"0014\"\r\n        }\r\n    ] \r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{BASE_URL}}/client/transaksi",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"client",
										"transaksi"
									]
								}
							},
							"response": []
						},
						{
							"name": "transaksi",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{BASE_URL}}/client/transaksi",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"client",
										"transaksi"
									]
								}
							},
							"response": []
						},
						{
							"name": "transaksi/$id",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{BASE_URL}}/client/transaksi/3076b390d8524b7a9d6602a594bbe005",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"client",
										"transaksi",
										"3076b390d8524b7a9d6602a594bbe005"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Master",
					"item": [
						{
							"name": "Lensa",
							"item": [
								{
									"name": "lensa",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"body": {
											"mode": "urlencoded",
											"urlencoded": []
										},
										"url": {
											"raw": "{{BASE_URL}}/client/lensa?page=1&perPage=5&kode_brand=CZ&jenis_lensa=SF",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"lensa"
											],
											"query": [
												{
													"key": "page",
													"value": "1"
												},
												{
													"key": "perPage",
													"value": "5"
												},
												{
													"key": "kode_brand",
													"value": "CZ"
												},
												{
													"key": "jenis_lensa",
													"value": "SF"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Spheris",
							"item": [
								{
									"name": "spheris",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/spheris",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"spheris"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Cylinder",
							"item": [
								{
									"name": "cylinder",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"body": {
											"mode": "urlencoded",
											"urlencoded": []
										},
										"url": {
											"raw": "{{BASE_URL}}/client/cylinder?kode_lensa=50001&kode_spheris=-0.50",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"cylinder"
											],
											"query": [
												{
													"key": "kode_lensa",
													"value": "50001"
												},
												{
													"key": "kode_spheris",
													"value": "-0.50"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Axis",
							"item": [
								{
									"name": "axis",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/axis",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"axis"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Additional",
							"item": [
								{
									"name": "additional",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/additional",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"additional"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Jasa",
							"item": [
								{
									"name": "jasa",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/jasa",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"jasa"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Frame",
							"item": [
								{
									"name": "status",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/framestatus",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"framestatus"
											]
										}
									},
									"response": []
								},
								{
									"name": "jenis",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/framejenis",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"framejenis"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Model",
							"item": [
								{
									"name": "model",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/model",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"model"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Base",
							"item": [
								{
									"name": "base",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/base",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"base"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Prisma",
							"item": [
								{
									"name": "prisma",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{CLIENT_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{BASE_URL}}/client/prisma",
											"host": [
												"{{BASE_URL}}"
											],
											"path": [
												"client",
												"prisma"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "kodebrand",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{BASE_URL}}/client/kodebrand",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"client",
										"kodebrand"
									]
								}
							},
							"response": []
						},
						{
							"name": "grouplensa",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{CLIENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{BASE_URL}}/client/grouplensa",
									"host": [
										"{{BASE_URL}}"
									],
									"path": [
										"client",
										"grouplensa"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "forgot-password",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\"email\": \"client@example.com\"}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{BASE_URL}}/auth/forgot-password",
					"host": [
						"{{BASE_URL}}"
					],
					"path": [
						"auth",
						"forgot-password"
					]
				}
			},
			"response": []
		},
		{
			"name": "reset-password",
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{BASE_URL}}/auth/reset-password",
					"host": [
						"{{BASE_URL}}"
					],
					"path": [
						"auth",
						"reset-password"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "BASE_URL",
			"value": "https://apitol.topopticallab.co.id/api/v1",
			"type": "string"
		},
		{
			"key": "CLIENT_TOKEN",
			"value": "",
			"type": "string"
		},
		{
			"key": "PUBLIC_API_KEY",
			"value": "",
			"type": "string"
		}
	]
}